{% extends '@ReaccionCMSAdminBundle/base.html.twig' %}

{% block reaccion_cms_admin_body %}

<div class="my-3 my-md-5">

  	<div class="container">

  		<div class="page-header">
    		<div class="col pl-0">
	    		<h1 class="page-title">{{ 'email_templates.title' | trans }}</h1>
	    	</div>
    		<div class="col col-lg-3 row justify-content-end">
    			<a href="{{ url('reaccion_cms_admin_preferences_create_email_template') }}" class="btn btn-primary">
    				<i class="fe fe-plus"></i>&nbsp;&nbsp;{{ 'email_templates.create_btn' | trans }}
    			</a>
    		</div>
	    </div>

	    <div class="row row-cards">

  			<div class="col-12">
                <div class="card">

                	{% embed '@ReaccionCMSAdminBundle/shared/crud/listCardHeader.html.twig' with { 'result' : emailTemplates } %}{% endembed %}

                  	{% embed '@ReaccionCMSAdminBundle/shared/flash_messages.html.twig' %}{% endembed %}

                  	<div class="table-responsive">
	                    
	                    <table class="table card-table table-vcenter text-nowrap">

	                    	<thead>
	                        	<tr>
		                        	<th width="20%">{{ 'email_templates.name' | trans }}</th>
		                        	<th>{{ 'email_templates.slug' | trans }}</th>
		                        	<th>{{ 'email_templates.language' | trans }}</th>
		                        	<th>{{ 'email_templates.isEnabled' | trans }}</th>
		                        	<th width="8%"></th>
		                        </tr>
		                    </thead>

		                    <tbody>

		                    	{% for row in emailTemplates %}
		                    	<tr>
		                    		<td>
		                    			<a href="{{ url('reaccion_cms_admin_preferences_update_email_template', { emailTemplate : row.id }) }}">{{ row.name }}</a>
		                    		</td>
		                    		<td>{{ row.slug }}</td>
		                    		<td>
		                    			{% embed '@ReaccionCMSAdminBundle/components/languages/languageWithFlagComponent.html.twig' with {'lang' : row.language} %}{% endembed %}
		                    		</td>
		                    		<td>
		                    			{% if row.enabled %}
			                          	<span class="status-icon bg-success"></span> {{ 'common.enabled' | trans }}
			                          	{% else %}
			                          	<span class="status-icon bg-danger"></span> {{ 'common.disabled' | trans }}
			                          	{% endif %}
			                        </td>
		                    		<td class="text-right">

		                    			<a href="{{ url('reaccion_cms_admin_preferences_update_email_template', { emailTemplate : row.id }) }}" title="{{ 'crud.edit' | trans }}" data-toggle="tooltip" data-placement="top">
			                              <i class="fe fe-edit"></i>
			                            </a>
			                            &nbsp;
			                            <a class="text-danger" href="{{ url('reaccion_cms_admin_preferences_remove_email_templates', { 'emailTemplate' : row.id }) }}" data-toggle="tooltip" data-placement="top" title="{{ 'crud.remove' | trans }}" data-detele-confirm="true">
			                              <i class="fe fe-trash"></i>
			                            </a>

		                    		</td>
		                    	</tr>
		                    	{% endfor %}

		                    </tbody>

		                </table>

		            </div>

				</div>
			</div>

		</div>

	</div>

</div>

{% endblock %}