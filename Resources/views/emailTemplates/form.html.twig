{% extends '@ReaccionCMSAdminBundle/base.html.twig' %}

{% block reaccion_cms_admin_body %}

<div class="my-3 my-md-5">

  	<div class="container">

		<div class="row">
			<div class="col-12">
				{% if mode == 'create' %}
				<h3>{{ 'email_templates.create_title' | trans }}</h3>
				{% elseif mode == 'edit' %}
				<h3>{{ 'email_templates.update_title' | trans({ '%name%' : emailTemplateName }) | raw }}</h3>
				{% endif %}
			</div>
		</div>

        {% embed '@ReaccionCMSAdminBundle/shared/flash_messages.html.twig' with {'extraClasses' : 'pl-0 pr-0'} %}{% endembed %}

		<div class="row col-lg-12">
    		
    		{{ form_start(form, { 'attr' : { 'class' : 'col-lg-12' } } ) }}
    		<div class="row">
	    		<div class="card col-lg-7">
	    			<div class="card-body">
	    				{{ form_widget(form) }}
					</div>
				</div>

				<div class="card col-lg-4 ml-auto mr-auto">
	    			<div class="card-body pl-3">
	    				<h3>{{ 'email_templates.email_message_params' | trans }}</h3>

	    				<div id="custom_email_message_params"></div>

	    				<div class="text-center mt-4">
	    					<button id="add_custom_email_message_param" type="button" class="btn btn-primary">
		    					<i class="fe fe-plus"></i>&nbsp;&nbsp;{{ 'email_templates.add_custom_field_btn' | trans }}
	    					</button>
	    				</div>

	    			</div>
	    		</div>
    		</div>

    		<div class="pt-2 pb-2 text-center">
				<button type="submit" class="btn btn-primary" data-spinner="true">
					<i class="fe fe-save"></i>&nbsp;&nbsp;{{ 'crud.save_changes' | trans }}
				</button>
				<a href="{{ url('reaccion_cms_admin_preferences_email_templates') }}" class="btn btn-secondary">
		          <i class="fe fe-arrow-left-circle"></i>&nbsp;&nbsp;{{ 'crud.go_back' | trans }}
		        </a>
			</div>
    		{{ form_end(form) }}

		</div>
	</div>

</div>

{% endblock %}