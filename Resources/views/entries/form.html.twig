{% extends '@ReaccionCMSAdminBundle/base.html.twig' %}

{% block reaccion_cms_admin_body %}

<div class="my-3 my-md-5">

  	<div class="container">

		<div class="row">
			<div class="col-12">
				{% if mode == 'create' %}
				<h3>{{ 'entries_form.title' | trans }}</h3>
				{% elseif mode == 'edit' %}
				<h3>{{ 'entries_form.update_title' | trans({ '%name%' : entryName }) | raw }}</h3>
				{% endif %}
			</div>
		</div>

        {% embed '@ReaccionCMSAdminBundle/shared/flash_messages.html.twig' with {'extraClasses' : 'pl-0 pr-0'} %}{% endembed %}

		{{ form_start(form) }}

		<div class="row">

			<!-- left column -->
        	<div class="col-lg-9">

        		<div class="card">

        			<div class="card-body">

		        		<div class="form-group">
				        	{{ form_widget(form.name) }}
				        </div>

		        		<div class="form-group">
				        	{{ form_widget(form.content) }}
				        </div>

				    </div>

			        <div class="card-footer text-right">
			      		<div class="d-flex">
			        		<a href="{{ url('reaccion_cms_admin_entries_list') }}" class="btn btn-link">{{ 'crud.cancel' | trans }}</a>
			        		<button type="submit" id="submit" class="btn btn-primary ml-auto">{{ 'crud.send_data' | trans }}</button>
			      		</div>
			    	</div>

		    	</div>

        	</div>

        	<!-- right column -->
        	<div class="col-lg-3" style="padding-right: 50px">

        		<!-- options -->
        		<div class="card">
        			<div class="card-header">
        				<i class="fe fe-settings"></i>&nbsp;&nbsp;{{ 'entries_form.options' | trans }}
        			</div>
        			<div class="card-body">

		        		<div class="form-group">
				        	{{ form_label(form.slug) }}
				        	{{ form_widget(form.slug) }}
		        		</div>

		        		<div class="form-group">
				        	{{ form_widget(form.language) }}
		        		</div>

		        		<div class="form-group">
				        	{{ form_widget(form.enabled) }}
		        		</div>
	        		</div>
        		</div>

        		<!-- categories -->
        		<div class="card">
        			<div class="card-header">
        				<i class="fe fe-list"></i>&nbsp;&nbsp;{{ 'entries_form.categories' | trans }}
        			</div>
        			<div class="card-body">
		        		<div class="form-group">
				        	{{ form_widget(form.categories) }}
				        </div>
				    </div>
				</div>

				<!-- tags -->
				<div class="card">
        			<div class="card-header">
        				<i class="fe fe-tag"></i>&nbsp;&nbsp;{{ 'entries_form.tags' | trans }}
        			</div>
        			<div class="card-body">
		        		<div class="form-group">
				        	{{ form_widget(form.tags) }}
		        		</div>
	        		</div>
        		</div>

				<!-- tags -->
				<div class="card">
        			<div class="card-header">
						<i class="fe fe-image"></i>&nbsp;&nbsp;{{ 'entries_form.defaultImage' | trans }}
        			</div>
        			<div class="card-body">
		        		<div class="form-group text-center">

							<div id="default_image_preview" {% if entry.defaultImage is not defined or entry.defaultImage is empty %}class="d-none"{% endif %}>

								{% if entry.defaultImage is defined and entry.defaultImage is not empty %}
									<img src="{{ asset('uploads/' ~ entry.defaultImage.path) }}" class="mb-2" />
								{% else %}
								<img src="" class="mb-2" />
								{% endif %}
								<button data-action="remove-default-image" type="button" class="btn btn-danger btn-block mb-2">
									<i class="fe fe-trash mr-2"></i>{{ 'crud.remove' | trans }}
								</button>
							</div>

							<!-- open gallery button -->
							<div id="open_gallery_button" data-form-name="entry" class="m-0">
								<button type="button" data-event="open-media-gallery" class="btn btn-dark btn-block">
									<i class="fe fe-upload mr-2"></i>{{ 'media_common.open_gallery' | trans }}
								</button>
							</div>
							<!-- end open gallery button -->

				        	{{ form_widget(form.defaultImage) }}
		        		</div>
	        		</div>
        		</div>

        	</div>

        </div>

        {{ form_end(form) }}

	</div>

</div>

{% embed '@ReaccionCMSAdminBundle/shared/modal.html.twig' %}{% endembed %}

{% endblock %}
